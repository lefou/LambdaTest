<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_172) on Thu Jun 14 10:10:50 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Overview (LambdaTest 0.5.0 API)</title>
<meta name="date" content="2018-06-14">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (LambdaTest 0.5.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">LambdaTest 0.5.0 API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">Lambda Test
<div id="preamble">
<div class="sectionbody">
Project Homepage: <a href="https://github.com/lefou/LambdaTest" class="bare">https://github.com/lefou/LambdaTest</a>
Lambda-enabled functional testing on top of JUnit and TestNG.</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="de/tobiasroeser/lambdatest/package-summary.html">de.tobiasroeser.lambdatest</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="de/tobiasroeser/lambdatest/generic/package-summary.html">de.tobiasroeser.lambdatest.generic</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="de/tobiasroeser/lambdatest/internal/package-summary.html">de.tobiasroeser.lambdatest.internal</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="de/tobiasroeser/lambdatest/junit/package-summary.html">de.tobiasroeser.lambdatest.junit</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="de/tobiasroeser/lambdatest/proxy/package-summary.html">de.tobiasroeser.lambdatest.proxy</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="de/tobiasroeser/lambdatest/testng/package-summary.html">de.tobiasroeser.lambdatest.testng</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block"><h1>Lambda Test</h1>
<div id="preamble">
<div class="sectionbody">
<p>Project Homepage: <a href="https://github.com/lefou/LambdaTest" class="bare">https://github.com/lefou/LambdaTest</a></p>
<p>Lambda-enabled functional testing on top of JUnit and TestNG.</p>
<p>Documentation for LambdaTest 0.5.0.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#motivation">Motivation</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#download-from-maven-central">Download from Maven Central</a></li>
<li><a href="#choose-your-favorite-unit-test-runner-junit-or-testng">Choose your favorite Unit-Test Runner: JUnit or TestNG</a></li>
<li><a href="#writing-tests-with-lambda-test">Writing tests with Lambda Test</a></li>
<li><a href="#writing-assertions-with-code-expect-code">Writing assertions with <code>Expect</code></a></li>
<li><a href="#fluent-string-analysis-with-code-expectstring-code">Fluent String analysis with <code>ExpectString</code></a></li>
<li><a href="#testing-files-and-directories-with-code-tempfile-code">Testing files and directories with <code>TempFile</code></a></li>
<li><a href="#using-code-testproxy-code-to-create-mock-objects">Using <code>TestProxy</code> to create mock objects</a></li>
<li><a href="#working-on-java7-or-below">Working on Java7 or below</a></li>
<li><a href="#build-lambdatest-from-source">Build LambdaTest from Source</a>
<ul class="sectlevel2">
<li><a href="#building-with-maven">Building with Maven</a></li>
<li><a href="#create-code-pom-xml-code-for-interoperability-e-g-ides">Create <code>pom.xml</code> for interoperability, e.g. IDEs</a></li>
</ul>
</li>
<li><a href="#licence">Licence</a></li>
<li><a href="#contribution-contact">Contribution / Contact</a></li>
<li><a href="#changelog">Changelog</a>
<ul class="sectlevel2">
<li><a href="#lambdatest-0-5-0-2018-06-11">LambdaTest 0.5.0 - 2018-06-11</a></li>
<li><a href="#lambdatest-0-4-0-2018-03-05">LambdaTest 0.4.0 - 2018-03-05</a></li>
<li><a href="#lambdatest-0-3-1-2018-02-13">LambdaTest 0.3.1 - 2018-02-13</a></li>
<li><a href="#lambdatest-0-3-0-2017-10-30">LambdaTest 0.3.0 - 2017-10-30</a></li>
<li><a href="#lambdatest-0-2-4-2016-08-03">LambdaTest 0.2.4 - 2016-08-03</a></li>
<li><a href="#lambdatest-0-2-3-2016-05-10">LambdaTest 0.2.3 - 2016-05-10</a></li>
<li><a href="#lambdatest-0-2-2-2016-05-03">LambdaTest 0.2.2 - 2016-05-03</a></li>
<li><a href="#lambdatest-0-2-1-2016-03-04">LambdaTest 0.2.1 - 2016-03-04</a></li>
<li><a href="#lambdatest-0-2-0-2016-02-12">LambdaTest 0.2.0 - 2016-02-12</a></li>
<li><a href="#lambdatest-0-1-0-2014-12-08">LambdaTest 0.1.0 - 2014-12-08</a></li>
<li><a href="#rerelease-of-lambdatest-0-0-3-2014-11-29">Rerelease of LambdaTest 0.0.3 - 2014-11-29</a></li>
<li><a href="#lambdatest-0-0-3-2014-11-16">LambdaTest 0.0.3 - 2014-11-16</a></li>
<li><a href="#lambdatest-0-0-2-2014-10-18">LambdaTest 0.0.2 - 2014-10-18</a></li>
<li><a href="#lambdatest-0-0-1-2014-10-15">LambdaTest 0.0.1 - 2014-10-15</a></li>
</ul>
</li>
</ul>
</div>
</div>
<h2 id="motivation">Motivation</h2>
<div class="sectionbody">
<p>When constrained to work in a Java-only toolchain, I really miss my <a href="http://scalatest.org">ScalaTest</a>.
I tried some lambda enabled test frameworks, but until now (2014), did not find a suitable solution without compromizing the integration benefits.</p>
<p>Thus I decided to write a small and generic test library that allows writing of functional test without reinventing the wheel.
LambdaTest works on top of JUnit and TestNG, all you need is to add it to the test classpath.
No further adaptions to your existing test setup are needed.
You will immediately gain the joy of Lambda-enabled functional testing, better assertion messages and nicely colored output.</p>
</div>
<h2 id="features">Features</h2>
<div class="sectionbody">
<p>Most important features are:</p>
<div class="ulist">
<ul>
<li>
<p>Write test via API (No longer required to have each test in a separate annotated method)</p>
</li>
<li>
<p>Meaningful names for tests</p>
</li>
<li>
<p>Nicely colored output per test case</p>
</li>
<li>
<p>Easy to write data-centric tests (e.g. generate as much test cases as you need programmatically, e.g. in a loop)</p>
</li>
<li>
<p>Easy to intercept exceptions with <code>intercept</code></p>
</li>
<li>
<p>Useful assertion message and difference highlighting in <code>expectXXX</code>-methods</p>
</li>
<li>
<p>Opt-in to not fail fast when using <code>expectXXX</code>-methods (see more than the first assertion error)</p>
</li>
<li>
<p>Easy to mark pending tests</p>
</li>
<li>
<p>Contains useful tools to work with temporary files and directories</p>
</li>
<li>
<p>Easy way to create proxies as mock dependencies</p>
</li>
</ul>
</div>
</div>
<h2 id="download-from-maven-central">Download from Maven Central</h2>
<div class="sectionbody">
<p>LambdaTest is available from <a href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22de.tototec%22%20AND%20a%3A%22de.tobiasroeser.lambdatest%22">Maven central repository</a>.</p>
<p>Maven users can use the following dependency declaration:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
 <span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>de.tototec<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>de.tobiasroeser.lambdatest<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>0.5.0<span class="tag">&lt;/version&gt;</span>
   <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
 <span class="tag">&lt;/dependency&gt;</span>
 <span class="comment">&lt;!-- If you use LambdaTest with JUnit --&gt;</span>
 <span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>4.12<span class="tag">&lt;/version&gt;</span>
   <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
 <span class="tag">&lt;/dependency&gt;</span>
 <span class="comment">&lt;!-- If you use LambdaTest with TestNG --&gt;</span>
 <span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>org.testng<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>testng<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>6.11<span class="tag">&lt;/version&gt;</span>
   <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
 <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<p><a href="http://sbuild.org">SBuild</a> users can use the following dependencies:</p>
<div class="listingblock">
<div class="title">Use with JUnit</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">"mvn:de.tototec:de.tobiasroeser.lambdatest:0.5.0" ~
 "mvn:junit:junit:4.12"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Use with TestNG</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">"mvn:de.tototec:de.tobiasroeser.lambdatest:0.5.0" ~
 "mvn:org.testng:testng:6.11"</code></pre>
</div>
</div>
</div>
<h2 id="choose-your-favorite-unit-test-runner-junit-or-testng">Choose your favorite Unit-Test Runner: JUnit or TestNG</h2>
<div class="sectionbody">
<p>With LambdaTest, you need to only know LambdaTests very simple and minimalistic API but can use it to write test for JUnit and TestNG.</p>
<p>To avoid a dependency to both frameworks at the same time, your test class  inherits a different base class, but besides that, everything else is the same.</p>
<p>For JUnit you inherit <a href="src/main/java/de/tobiasroeser/lambdatest/junit/FreeSpec.java"><code>de.tobiasroeser.lambdatest.junit.FreeSpec</code></a>.</p>
<p>For TestNG you inherit
<a href="src/main/java/de/tobiasroeser/lambdatest/testng/FreeSpec.java"><code>de.tobiasroeser.lambdatest.testng.FreeSpec</code></a>.</p>
</div>
<h2 id="writing-tests-with-lambda-test">Writing tests with Lambda Test</h2>
<div class="sectionbody">
<p>Here you see a basic test example, which produces a valid TestNG test class.
You need to extend from class <code>de.tobiasroeser.lambdatest.testng.FreeSpec</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">de.tobiasroeser.lambdatest.Expect.expectEquals</span>;
<span class="comment">// You can also use JUnit based tests with</span>
<span class="comment">// import de.tobiasroeser.lambdatest.junit.FreeSpec;</span>
<span class="keyword">import</span> <span class="include">de.tobiasroeser.lambdatest.testng.FreeSpec</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">SimpleTest</span> <span class="directive">extends</span> FreeSpec {
 <span class="directive">public</span> SimpleTest() {

   test(<span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 1 = 2</span><span class="delimiter">&quot;</span></span>, () -&gt; {
     expectEquals(<span class="integer">1</span> + <span class="integer">1</span>, <span class="integer">2</span>);
   });

   test(<span class="string"><span class="delimiter">&quot;</span><span class="content">a pending test</span><span class="delimiter">&quot;</span></span>, () -&gt; pending());

   test(<span class="string"><span class="delimiter">&quot;</span><span class="content">divide by zero</span><span class="delimiter">&quot;</span></span>, () -&gt; {
     <span class="type">int</span> a = <span class="integer">2</span>;
     <span class="type">int</span> b = <span class="integer">0</span>;
     intercept(<span class="exception">ArithmeticException</span>.class, () -&gt; {
       <span class="type">int</span> c = a / b;
     });
   });

   section(<span class="string"><span class="delimiter">&quot;</span><span class="content">A String should</span><span class="delimiter">&quot;</span></span>, () -&gt; {
     <span class="directive">final</span> <span class="predefined-type">String</span> aString = <span class="string"><span class="delimiter">&quot;</span><span class="content">A string</span><span class="delimiter">&quot;</span></span>;

     test(<span class="string"><span class="delimiter">&quot;</span><span class="content">match certain criteria</span><span class="delimiter">&quot;</span></span>, () -&gt; {
       expectString(aString)
         .contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>)
         .containsIgnoreCase(<span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
         .startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>)
         .endsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">ng</span><span class="delimiter">&quot;</span></span>)
         .hasLength(<span class="integer">8</span>);
     });

     test(<span class="string"><span class="delimiter">&quot;</span><span class="content">be not longer than 2</span><span class="delimiter">&quot;</span></span>, () -&gt; {
       expectString(aString).isLongerThan(<span class="integer">2</span>);
     });
   });

   test(<span class="string"><span class="delimiter">&quot;</span><span class="content">demo of a fail</span><span class="delimiter">&quot;</span></span>, () -&gt; {
     <span class="string"><span class="delimiter">&quot;</span><span class="content">yes</span><span class="delimiter">&quot;</span></span>.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">yes and no</span><span class="delimiter">&quot;</span></span>);
   });
 }
}</code></pre>
</div>
</div>
<p>The methods <code>test</code>, <code>pending</code> and <code>intercept</code> are provided by <code>FreeSpec</code>
whereas the usual <code>expectXXX</code> methods are provided by <code>Expect</code>.</p>
<p>The output of this test suite above would look like this:</p>
<p><span class="image"><img src="Screenshot_SimpleTest.jpg" alt="Screenshot SimpleTest"></span></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<p>You can run the above test directly in the LambdaTest project directory with:</p>
<div class="listingblock">
<div class="content">
<pre>mvn test -Dtest=SimpleTest</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<p>You should write your test cases so that they don&#8217;t need to be executed in order.
LambdaTest is able to run tests in parallel, if you enable it explicitly with <code>FreeSpec.setRunInParallel(true)</code>.</p>
<p>By default <code>expectXXX</code>-methods fail fast, which means the first failing assertion will end the whole test.
This is also the behaviour you will get with most other test frameworks.</p>
<p>But you can disable fail-fast behaviour for assertions/expectations with <code>FreeSpec.setExpectFailFast(false)</code>.
Then, the first failing <code>expectXXX</code>-error will not abort the test but the test is optimistically continued.
Further failing assertion errors are collected and the test fails at the end, reporting all collected errors.</p>
</div>
<h2 id="writing-assertions-with-code-expect-code">Writing assertions with <code>Expect</code></h2>
<div class="sectionbody">
<p>LambdaTest provides many methods in the class <code>de.tobiasroeser.lambdatest.Expect</code> to write assertion.
You can use these as an alternative to the assertion methods provides by other unit testing framework to gain the following advantages:</p>
<div class="ulist">
<ul>
<li>
<p>Nice output of differences between expected and actual values. Especially for string and various collection types</p>
</li>
<li>
<p><code>expectXXX</code>-methods provide a feature to collect multiple assertions (non-fail-fast behaviour), such that you can collect as much errors as possible in one test run, instead of giving up at the first error.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Selected static methods of <code>Expect</code></div>
<ul>
<li>
<p><code>expectNull</code> - Assert that a given value is null</p>
</li>
<li>
<p><code>expectNotNull</code> - Assert that a given value is not null</p>
</li>
<li>
<p><code>expectEquals</code> - Assert equality of two given objects or values.</p>
</li>
<li>
<p><code>expectNotEquals</code> - Assert non-equality of two given objects or values.</p>
</li>
<li>
<p><code>expectTrue</code> - Assert a value evaluates to <code>true</code></p>
</li>
<li>
<p><code>expectFalse</code> - Assert a value evaluates to <code>false</code></p>
</li>
<li>
<p><code>expectString</code> - Assert that a given string is non-null and return an instance of <code>ExpectString</code> with provides furter checks on the actual string in a fluent API</p>
</li>
<li>
<p><code>intercept</code> - Assert that a code block throws an Exception of the given type and optional with an message matching a given regular expression. Returns the thrown exception for further analysis</p>
</li>
</ul>
</div>
<p>There are more method in <code>Expect</code> with setup and control it non-fail-fast handling via ThreadLocals. Those are only needed, if you want to use these behaviour outside of <code>FreeSpec</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<p>If you want to use the non-fail-fast behaviour of the <code>Expect</code> class  outside of <code>FreeSpec</code>, you have to take care of setup and finalization by yourself.</p>
</td>
</tr>
</table>
</div>
</div>
<h2 id="fluent-string-analysis-with-code-expectstring-code">Fluent String analysis with <code>ExpectString</code></h2>
<div class="sectionbody">
<p>To inspect and assert string, use the class <code>ExpectString</code>, which is also returned, if you use <code>Expect.expectString</code>.</p>
<div class="ulist">
<div class="title">Methods of <code>ExpectString</code></div>
<ul>
<li>
<p><code>isEqual</code></p>
</li>
<li>
<p><code>isNotEqual</code></p>
</li>
<li>
<p><code>isEqualIgnoreCase</code></p>
</li>
<li>
<p><code>isNotEqualIgnoreCase</code></p>
</li>
<li>
<p><code>startsWith</code></p>
</li>
<li>
<p><code>StartsWithNot</code></p>
</li>
<li>
<p><code>endsWith</code></p>
</li>
<li>
<p><code>endsNotWith</code></p>
</li>
<li>
<p><code>matches</code></p>
</li>
<li>
<p><code>matchesNot</code></p>
</li>
<li>
<p><code>hasLength</code></p>
</li>
<li>
<p><code>hasLengthNot</code></p>
</li>
<li>
<p><code>isLongerThan</code></p>
</li>
<li>
<p><code>isShorterThan</code></p>
</li>
<li>
<p><code>isTrimmed</code></p>
</li>
<li>
<p><code>contains</code></p>
</li>
<li>
<p><code>containsNot</code></p>
</li>
<li>
<p><code>containsIgnoreCase</code></p>
</li>
<li>
<p><code>containsIgnoreCaseNot</code></p>
</li>
</ul>
</div>
</div>
<h2 id="testing-files-and-directories-with-code-tempfile-code">Testing files and directories with <code>TempFile</code></h2>
<div class="sectionbody">
<p>LambdaTest comes with a helper class <code>de.tobiasroeser.lambdatest.TempFile</code> with contains useful methods to work with temporary files.</p>
<p>To create a temporary file with a given content and do something with it, you can use <code>TempFile.withTempFile</code> or it procedural version with does not return a value <code>TempFile.withTempFileP</code>. After the method completes, the temporary file will automatically deleted.</p>
<p>To create and work with temporary files, you can use <code>TempFile.withTempDir</code> and TempFile.withTempDirP`. Those will be recursively deleted after completion.</p>
<p>There are more useful methods in class <code>TempFile</code>, e.g. <code>readFile</code>, <code>writeToFile</code> and <code>deleteRecursive</code>. Please inspect the class for more information.</p>
</div>
<h2 id="using-code-testproxy-code-to-create-mock-objects">Using <code>TestProxy</code> to create mock objects</h2>
<div class="sectionbody">
<p>The general idea in unit testing is to isolate a class under test from its dependencies.</p>
<p>An naive way to do this is to create dummy implementations, but this can be a very cumbersome, repetitive and booring task. Also it creates a lot of boilerplate code, which is also unnecessary hard to maintain.</p>
<p>On the opposite end, you can  find very advanced mocking frameworks which will create mocks that can be trained and replayed, but the resulting code is no longer easy to understand and also adds lots of new dependencies.</p>
<p>Therefore in the middle there is <code>TestProxy</code> to easily create dummy proxy instances.
By default, each invoked method on the proxy will throw an <code>UnsupportedOperationException</code> which a meaningful detail message.</p>
<p>You can also provide explicit behaviour to your proxy by providing delegate objects.
Whenever a method is invoked on the proxy, the given objects will be checked if they contain a method with a matching signature, and if so, that method will be invoked an behalf of the proxy.</p>
<p>You can either use the more explicit way with <code>TestProxy.proxy(ClassLoader, List&lt;Class&lt;?&gt;&gt;, List&lt;Object&gt;)</code> or the more convenient and compact <code>TestProxy.proxy(Object&#8230;&#8203;)</code> method.</p>
<div class="listingblock">
<div class="title">Example Test using <code>TestProxy</code></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">org.example</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">de.tobiasroeser.lambdatest.Expect.expectEquals</span>;

<span class="keyword">import</span> <span class="include">de.tobiasroeser.lambdatest.proxy.TestProxy</span>;
<span class="keyword">import</span> <span class="include">de.tobiasroeser.lambdatest.testng.FreeSpec</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleProxyTest</span> <span class="directive">extends</span> FreeSpec {
 <span class="type">interface</span> <span class="class">Dependency</span> {
   <span class="predefined-type">String</span> hello();
 }

 <span class="type">class</span> <span class="class">ServiceWithDependency</span> {
   <span class="directive">private</span> Dependency dependency;

   <span class="directive">public</span> ServiceWithDependency(<span class="directive">final</span> Dependency dependency) {
     <span class="local-variable">this</span>.dependency = dependency;
   }

   <span class="predefined-type">String</span> usingDependency() {
     <span class="keyword">return</span> dependency.hello();
   }

   <span class="predefined-type">String</span> notUsingDependency() {
     <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Have a nice day!</span><span class="delimiter">&quot;</span></span>;
   }
 }

 <span class="directive">public</span> ExampleProxyTest() {

     test(<span class="string"><span class="delimiter">&quot;</span><span class="content">A proxy without delegates as optional dependencies should be sufficient</span><span class="delimiter">&quot;</span></span>, () -&gt; {
       <span class="directive">final</span> Dependency dep = TestProxy.proxy(Dependency.class);
       <span class="directive">final</span> ServiceWithDependency service = <span class="keyword">new</span> ServiceWithDependency(dep);
       expectEquals(service.notUsingDependency(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Have a nice day!</span><span class="delimiter">&quot;</span></span>);
     });

     test(<span class="string"><span class="delimiter">&quot;</span><span class="content">A proxy without delegates as mandatory dependencies should fail</span><span class="delimiter">&quot;</span></span>, () -&gt; {
       <span class="directive">final</span> Dependency dep = TestProxy.proxy(Dependency.class);
       <span class="directive">final</span> ServiceWithDependency service = <span class="keyword">new</span> ServiceWithDependency(dep);
       intercept(<span class="exception">UnsupportedOperationException</span>.class, () -&gt; {
         service.usingDependency();
       });
     });

     test(<span class="string"><span class="delimiter">&quot;</span><span class="content">A proxy with delegates as mandatory dependency should succeed</span><span class="delimiter">&quot;</span></span>, () -&gt; {
       <span class="directive">final</span> Dependency dep = TestProxy.proxy(Dependency.class, <span class="keyword">new</span> <span class="predefined-type">Object</span>() {
         <span class="annotation">@SuppressWarnings</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">unused</span><span class="delimiter">&quot;</span></span>)
         <span class="directive">public</span> <span class="predefined-type">String</span> hello() {
           <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Hello Proxy!</span><span class="delimiter">&quot;</span></span>;
         }
       });
       <span class="directive">final</span> ServiceWithDependency service = <span class="keyword">new</span> ServiceWithDependency(dep);
       expectEquals(service.usingDependency(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Hello Proxy!</span><span class="delimiter">&quot;</span></span>);
     });

 }
}</code></pre>
</div>
</div>
</div>
<h2 id="working-on-java7-or-below">Working on Java7 or below</h2>
<div class="sectionbody">
<p>Even though writing functional test makes most sence under Java 8,
there are enough reasons to also use them on older Java versions which do not provide nice closures.</p>
<p>LambdaTest does not use any Java 8 API!
Therefore, there is nothing that stops you. You can download pre-compiled binaries of LambdaTest for older Java Runtimes down to Java 6.
To use the non-Java8 version with Maven, use a classifier ("java7", or "java6") to download the version you want.
The compatibility packages are produced with the great <a href="https://github.com/orfjackal/retrolambda">retrolambda project</a>.</p>
<p>To use the Java7 version in Maven:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
 <span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>de.tototec<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>de.tobiasroeser.lambdatest<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>0.5.0<span class="tag">&lt;/version&gt;</span>
   <span class="tag">&lt;classifier&gt;</span>java7<span class="tag">&lt;/classifier&gt;</span>
   <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
 <span class="tag">&lt;/dependency&gt;</span>
 <span class="comment">&lt;!-- Also you need one of JUnit or TestNG, see above --&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<p>or in SBuild:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">"mvn:de.tototoec:de.tobiasroeser.lambdatest:0.5.0;classifier=java7"</code></pre>
</div>
</div>
<p>Instead of Java 8 Closures, you have to create anonymous classes.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">de.tobiasroeser.lambdatest.Expect.expectEquals</span>;
<span class="keyword">import</span> <span class="include">de.tobiasroeser.lambdatest.RunnableWithException</span>;
<span class="keyword">import</span> <span class="include">de.tobiasroeser.lambdatest.junit.FreeSpec</span>;

<span class="type">class</span> <span class="class">SimpleTest</span> <span class="directive">extends</span> FreeSpec {
 <span class="directive">public</span> SimpleTest() {

   test(<span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 1 = 2</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> RunnableWithException() {
     <span class="directive">public</span> <span class="type">void</span> run() <span class="directive">throws</span> <span class="exception">Exception</span> {
       expectEquals(<span class="integer">1</span> + <span class="integer">1</span>, <span class="integer">2</span>);
     }
   });

   test(<span class="string"><span class="delimiter">&quot;</span><span class="content">divide by zero</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> RunnableWithException() {
     <span class="directive">public</span> <span class="type">void</span> run() <span class="directive">throws</span> <span class="exception">Exception</span> {
       <span class="type">int</span> a = <span class="integer">2</span>;
       <span class="type">int</span> b = <span class="integer">0</span>;
       intercept(<span class="exception">ArithmeticException</span>.class, <span class="keyword">new</span> RunnableWithException() {
         <span class="directive">public</span> <span class="type">void</span> run() <span class="directive">throws</span> <span class="exception">Exception</span> {
           <span class="type">int</span> c = a / b;
         }
       });
     }
   });
 }
}</code></pre>
</div>
</div>
</div>
<h2 id="build-lambdatest-from-source">Build LambdaTest from Source</h2>
<div class="sectionbody">
<h3 id="building-with-maven">Building with Maven</h3>
<p>LambdaTest is build with <a href="https://maven.apache.org">Apache Maven 3.3.1</a> and the <a href="https://github.com/takari/polyglot-maven#overview">polyglot-scala extension</a>. Maven 3.5 is recommended.</p>
<div class="listingblock">
<div class="title">Build LambdaTest from source</div>
<div class="content">
<pre>mvn clean install</pre>
</div>
</div>
<p>The built JARs file can be found in the <code>target</code> directory.</p>
<h3 id="create-code-pom-xml-code-for-interoperability-e-g-ides">Create <code>pom.xml</code> for interoperability, e.g. IDEs</h3>
<p>To generate the <code>pom.xml</code> use the <code>gen-pom-xml</code> profile.</p>
<div class="listingblock">
<div class="title">Creating <code>pom.xml</code> files</div>
<div class="content">
<pre>mvn -Pgen-pom-xml initialize</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Deleting generated <code>pom.xml</code> files</div>
<div class="content">
<pre>mvn -Pgen-pom-xml clean</pre>
</div>
</div>
</div>
<h2 id="licence">Licence</h2>
<div class="sectionbody">
<p>This project is published under the <a href="http://www.apache.org/licenses/LICENSE-2.0.txt">Apache Licence Version 2.0</a>.</p>
</div>
<h2 id="contribution-contact">Contribution / Contact</h2>
<div class="sectionbody">
<p>Your feedback is highly appreciated. I also accept pull request.</p>
<p>For questions please use the <a href="https://gitter.im/lefou/LambdaTest">Gitter chatroom</a>.
To report issues or send pull request, use <a href="https://github.com/lefou/LambdaTest">GitHub</a>.</p>
<p>You can also find me on <a href="https://twitter.com/TobiasRoeser">Twitter as @TobiasRoeser</a>.</p>
<p>If you like LambdaTest, please star it on <a href="https://github.com/lefou/LambdaTest">GitHub</a>. This will help me to set my priorities. Thanks!</p>
</div>
<h2 id="changelog">Changelog</h2>
<div class="sectionbody">
<h3 id="lambdatest-0-5-0-2018-06-11">LambdaTest 0.5.0 - 2018-06-11</h3>
<div class="ulist">
<ul>
<li>
<p>Added <code>TestProxy</code> in package <code>de.tobiasroeser.lambdatest.proxy</code> to easily create mock dependencies / proxies.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-4-0-2018-03-05">LambdaTest 0.4.0 - 2018-03-05</h3>
<div class="ulist">
<ul>
<li>
<p>Detect logging framework (slf4j or java.util.logging) and log test progress</p>
</li>
<li>
<p>Added <code>internal.Logger</code> and <code>internal.LoggerFactory</code> to wrap either an
Slf4j-Logger or a JUL-Logger, both supporting Slf4j parameter placeholders.</p>
</li>
<li>
<p>Added new <code>LoggingWrappingReporter</code> which logs to an logging frameorg and
delegates all methods to an underlying Reporter.</p>
</li>
<li>
<p>Changed handling of the "optional" msg-paramter in <code>Assert.assertXXX</code> and
<code>Expect.expectXXX</code> methods.
If given, the msg-parameter does no longer replace the generic assertion
message, instead both messages are shown, first the given message, then the
generic message.</p>
</li>
<li>
<p>Better handle arrays with primitive types.</p>
</li>
<li>
<p>Fixed issue, where a failing assert could throw a <code>ClassCastExcpetion</code> for
primitive type arrays.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-3-1-2018-02-13">LambdaTest 0.3.1 - 2018-02-13</h3>
<div class="ulist">
<ul>
<li>
<p><code>DefaultReporter</code> can now hide the stacktrace</p>
</li>
<li>
<p>Improved <code>expectEquals</code> message for number and arguments of different types</p>
</li>
<li>
<p>Fixed inverted <code>expectNotNull</code> behaviour</p>
</li>
<li>
<p>Extended test suite</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-3-0-2017-10-30">LambdaTest 0.3.0 - 2017-10-30</h3>
<div class="ulist">
<ul>
<li>
<p>Introduced <code>Reporter</code> interface and <code>DefaultReporter</code> class</p>
</li>
<li>
<p>Introduced generic base class <code>FreeSpecBase</code> to hold test framework unspecific logic</p>
</li>
<li>
<p>Added <code>FreeSpec.section</code> to allow more structured tests</p>
</li>
<li>
<p>Reformatted output of tests (handled now by <code>Reporter</code>)</p>
</li>
<li>
<p>Added <code>Assert.assertNull</code> and <code>Assert.assertNotNull</code></p>
</li>
<li>
<p>Added <code>Expect.expectNull</code> and <code>Expect.expectNotNull</code></p>
</li>
<li>
<p>Generate proper OSGi manifests for all JARs/bundles</p>
</li>
<li>
<p>Fixed assert message of <code>Intercept.intercept(Class&lt;T&gt;, String, RunnableWithException)</code></p>
</li>
<li>
<p>Documentation improvements</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-2-4-2016-08-03">LambdaTest 0.2.4 - 2016-08-03</h3>
<div class="ulist">
<ul>
<li>
<p>Added a pending method with a reason parameter.</p>
</li>
<li>
<p>Added more JavaDoc comments.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-2-3-2016-05-10">LambdaTest 0.2.3 - 2016-05-10</h3>
<div class="ulist">
<ul>
<li>
<p>Fixed fail late logic for Expect</p>
</li>
<li>
<p>Added new class ExpectString and Expect.expectString for fluent string assertions.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-2-2-2016-05-03">LambdaTest 0.2.2 - 2016-05-03</h3>
<div class="ulist">
<ul>
<li>
<p>Fixed Assert.assertEquals for Strings, especially when expected is empty or shorter than actual.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-2-1-2016-03-04">LambdaTest 0.2.1 - 2016-03-04</h3>
<div class="ulist">
<ul>
<li>
<p>Added <code>TempFile</code>, an utility class providing support to work with temporary files and directories which will be automatically cleaned up after the test case.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-2-0-2016-02-12">LambdaTest 0.2.0 - 2016-02-12</h3>
<div class="ulist">
<ul>
<li>
<p>Added JUnit support.
You can now use <code>de.tobiasroeser.lambdatest.junit.FreeSpec</code> for JUnit based tests in addition to the already existing  <code>de.tobiasroeser.lambdatest.testng.FreeSpec</code> for TestNG based tests.</p>
</li>
<li>
<p>Introduced new <code>Assert</code> and <code>Expect</code> classes. Expect-based asserts also support deferred exceptions. FreeSpec already integrates the setup of Expect.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-1-0-2014-12-08">LambdaTest 0.1.0 - 2014-12-08</h3>
<div class="ulist">
<ul>
<li>
<p>Also release compatibility packages for older Java runtimes: Java7 and Java6.
They are available via the "java7" and "java6" classifier.</p>
</li>
<li>
<p>FreeSpec.intercept now returns the intercepted exception.</p>
</li>
<li>
<p>Added FreeSpec.setRunInParallel to enable option to run tests in parallel.</p>
</li>
<li>
<p>Introduced LambdaTest interface (implemented by testng.FreeSpec) to contain the common API.</p>
</li>
</ul>
</div>
<h3 id="rerelease-of-lambdatest-0-0-3-2014-11-29">Rerelease of LambdaTest 0.0.3 - 2014-11-29</h3>
<div class="ulist">
<ul>
<li>
<p>Rerelease of 0.0.3 under "de.tototec" groupId.
You can now grab it directly from Maven Central without configuring a dedicated bintray repository.</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-0-3-2014-11-16">LambdaTest 0.0.3 - 2014-11-16</h3>
<div class="ulist">
<ul>
<li>
<p>Fixed issue with missapplied close of STDOUT stream</p>
</li>
<li>
<p>Fixed bug preventing from TestNG seeing pending tests as skipped</p>
</li>
<li>
<p>de.tobiasroeser.lambdatest.testng.FreeSpec class no longer inherits org.testng.Assert</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-0-2-2014-10-18">LambdaTest 0.0.2 - 2014-10-18</h3>
<div class="ulist">
<ul>
<li>
<p>Colored output</p>
</li>
<li>
<p>Added support to match exception messages with regex in intecept</p>
</li>
</ul>
</div>
<h3 id="lambdatest-0-0-1-2014-10-15">LambdaTest 0.0.1 - 2014-10-15</h3>
<div class="ulist">
<ul>
<li>
<p>First release</p>
</li>
</ul>
</div>
</div></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
